<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
    <title>ArcGIS Maps SDK for JavaScript Tutorials: Display a map using arcgis/map-components</title>
    <link rel="stylesheet" href="https://js.arcgis.com/4.30/esri/themes/light/main.css">
    <link rel="stylesheet" href="//js.arcgis.com/3.17/dijit/themes/claro/claro.css">
    <link rel="stylesheet" href="//js.arcgis.com/3.17/esri/css/esri.css">
    <script src="https://js.arcgis.com/4.30/"></script>
    <script type="module" src="https://js.arcgis.com/map-components/4.30/arcgis-map-components.esm.js"></script>

    <style>
        html,
        body {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            overflow: hidden;
        }

        #esri-map-container {
            height: 100%;
            width: -webkit-fill-available;
            left: 300px;
            position: absolute;
        }

        #esri-colorinfoslider-container {
            position: absolute;
            z-index: 2;
            bottom: 0;
            left: 0;
            background-color: #FFFCD4;
            color: #6B3B64;
            height: 100%;
            width: 300px;
            border-top-right-radius: 8px;
            overflow-x: hidden;
        }

        #basemapToggle-container {
            z-index: 4;
            position: absolute;
            top: 15px;
            right: 15px;
        }

        #spinner {
            visibility: hidden;
            position: relative;
            z-index: 98;
            left: 90px;
            bottom: 250px;
        }

        .btn {
            background: #3498db;
            background-image: -webkit-linear-gradient(top, #6B3B64, #6B3B64);
            background-image: -moz-linear-gradient(top, #6B3B64, #6B3B64);
            background-image: -ms-linear-gradient(top, #6B3B64, #6B3B64);
            background-image: -o-linear-gradient(top, #6B3B64, #6B3B64);
            background-image: linear-gradient(to bottom, #6B3B64, #6B3B64);
            -webkit-border-radius: 28;
            -moz-border-radius: 28;
            border-radius: 28px;
            font-family: Arial;
            color: #ffffff;
            font-size: 14px;
            padding: 3px 7px 3px 7px;
            text-decoration: none;
        }

        .btn:hover {
            background: #3cb0fd;
            background-image: -webkit-linear-gradient(top, #3cb0fd, #3498db);
            background-image: -moz-linear-gradient(top, #3cb0fd, #3498db);
            background-image: -ms-linear-gradient(top, #3cb0fd, #3498db);
            background-image: -o-linear-gradient(top, #3cb0fd, #3498db);
            background-image: linear-gradient(to bottom, #3cb0fd, #3498db);
            text-decoration: none;
        }

        h2 {
            text-align: center;
        }

        #esri_dijit_RendererSlider_0 {
            background-color: #FFFCD4;
        }
    </style>

    <script>
        require([
            "esri/Map",
            "esri/views/SceneView",
            "esri/layers/FeatureLayer",
            "esri/layers/SceneLayer",

            "esri/symbols/SimpleMarkerSymbol",
            "esri/symbols/SimpleLineSymbol",
            "esri/symbols/WebStyleSymbol",
            "esri/layers/support/LabelClass",

            "esri/geometry/Extent",
            "esri/geometry/Polygon",

            "esri/renderers/SimpleRenderer",
            "esri/renderers/UniqueValueRenderer",
            "esri/renderers/ClassBreaksRenderer",

            "dojo/on",
            "dojo/dom",
            "dojo/domReady!"
        ], function (Map, SceneView, FeatureLayer, SceneLayer,
            SimpleMarkerSymbol, SimpleLineSymbol, WebStyleSymbol, LabelClass,
            Extent, Polygon,
            SimpleRenderer, UniqueValueRenderer, ClassBreaksRenderer,
            on, dom) {
            // Point Cloud 1
            // Green 4
            // Esri Purple 1

            function foo() {
                console.log("bar");
            }
            // var layerViewsbyDocument = dom.byId("arcgis-map-element").allLayerViews
            // console.log(layerViewsbyDocument);

            // var layerViewsbyDocument = document.getElementById("arcgis-map-element").allLayerViews
            // console.log(layerViewsbyDocument);
        });
    </script>

</head>

<body class="claro">
    <div id="esri-map-container">
        <arcgis-map id="arcgis-map-element" item-id="567dca963a894ba3acf457ec3915800c">

            <arcgis-legend position="bottom-left" />
    
            <arcgis-layer-list position="bottom-right" />
    
        </arcgis-map>
    </div>
    <div id="basemapToggle-container"></div>
    <div id="esri-colorinfoslider-container"><div style="padding: 8px;">
      <div id="title"><h2>Seattle Demographics</h2></div>
      <div id="attSelection">
        Attribute:
        <select id="select-field">
          <option value="POP18UP_CY" selected>Population 18+</option>
          <option value="HH_Income_0_35K">Household income 0-$35K</option>
          <option value="HH_Income_35_75K">Household income $35K - $75K</option>
          <option value="HH_Income_75_200K">Household income $75K - $200K</option>
          <option value="HINC200_CY">Household income >$200K</option>
          <option value="COL_DEG">Pop 25+ earned a college degree</option>
          <option value="NO_COL_DEG">Pop 25+ with no college degree</option>
          <option value="HomeValue_0_150K">Homes worth 0-$150K</option>
          <option value="HomeValue_150_300K">Homes worth $150K - $300K</option>
          <option value="HomeValue_300K_up">Homes worth >$300K</option>
          <option value="MALES_CY">Male</option>
          <option value="FEMALES_CY">Female</option>
        </select><br><br>

        Filter by:
        <select id="select-filter">
          <option value="" selected></option>
          <option value="(CITY = 'Seattle')">City of Seattle</option>
          <option value="(MEDHINC_CY >= 50000 AND MEDHINC_CY <= 100000)">Median HH income $50K - $100K</option>
          <option value="(MEDVAL_CY >= 500000)">Median Home Value > $500K</option>
          <option value="(PER_BACH_DEG >= 50)">>50% have a bachelor's degree</option>
        </select><br><br>

        <button class="btn" id="extent-filter">Filter by map extent</button><button class="btn" id="clear-extent-filter">Clear extent filter</button><br><br>

        Theme:
        <select id="color-renderer-theme" style="margin-right:1rem;">
          <option value="high-to-low" selected>High to low</option>
          <option value="above-and-below">Above and below</option>
          <option value="centered-on">Centered on</option>
          <option value="extremes">Extremes</option>
        </select>
      </div></div>
      <div id="esri-colorinfoslider"><img src="img/busy-indicator.gif" id="spinner"></div>
    </div>
  </body>

</html>